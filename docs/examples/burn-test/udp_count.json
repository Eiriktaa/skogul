{
  "receivers": {
      "udp": {
        "type": "udp",
        "address": "[::1]:1337",
	"threads": 2,
	"backlog": 1000,
        "handler": "json"
      }
  },
  "handlers": {
    "json": {
      "parser": "json",
      "sender": "count"
    },
    "debugger": {
      "parser": "json",
      "transformers": [],
      "sender": "print"
    }
  },
  "senders": {
    "batch": {
      "type": "batch",
      "threshold": 1000,
      "next": "count"
    },
    "count": {
      "type": "counter",
      "stats": "debugger",
      "next": "next"
    },
    "nextx": {
	 "type": "batch",
	 "next": "next"
    },
    "next": {
	 "type": "dupe",
	 "next": ["sleeper-b1", "sleeper-b2", "sleeper-slow"]
    },
    "sleeper-b1": {
	 "type": "batch",
	 "threshold": 1000,
	 "next": "sleeper"
    },
    "sleeper-b2": {
	 "type": "batch",
	 "threshold": 1000,
	 "next": "sleeper"
    },
    "sleeper-slow": {
	 "type": "batch",
	 "threshold": 1000,
	 "burner": "burn",
	 "next": "slowsleep"
    },
    "burn": {
	 "type": "count",
      "stats": "debugger",
	 "next": "null"
    },
    "sleeper": {
	 "type": "sleep",
	 "maxdelay": "1ms",
	 "next": "nil"
    },
    "slowsleep": {
	 "type": "sleep",
	 "maxdelay": "1s",
	 "next": "nil"
    },
    "nil": {
      "type": "null"
    }
  }
}
